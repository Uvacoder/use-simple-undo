{"version":3,"sources":["webpack:///./src/index.ts","webpack:///./src/insert.ts","webpack:///./docs/usage.mdx"],"names":["useSimpleUndo","initialState","_React$useState2","_slicedToArray","React","useState","state","setState","_React$useState4","cursor","setCursor","value","nextCursor","nextState","arr","concat","_toConsumableArray","slice","insert","undo","redo","MDXContent","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","layout","Component","_this$props","components","_objectWithoutProperties","react_default","a","createElement","dist","name","id","parentName","className","index_m","__codesandbox","__position","__code","__scope","_useSimpleUndo2","usage_slicedToArray","setValue","_useSimpleUndo2$","Fragment","map","v","i","key","style","fontWeight","onClick"],"mappings":"o+BAGA,IAwBeA,EAxBO,SACpBC,GAMG,IAAAC,EAAAC,EACuBC,IAAMC,SAAS,CAACJ,IADvC,GACIK,EADJJ,EAAA,GACWK,EADXL,EAAA,GAAAM,EAAAL,EAEyBC,IAAMC,SAAS,GAFxC,GAEII,EAFJD,EAAA,GAEYE,EAFZF,EAAA,GAcH,MAAO,CAACF,EAAOG,EARE,SAACE,GAChB,IAAMC,EAAaH,EAAS,EACtBI,EClBK,SAAIC,EAAUL,EAAgBE,GAA9B,SAAAI,OAAAC,EACVF,EAAIG,MAAM,EAAGR,IADH,CAEbE,GAFaK,EAGVF,EAAIG,MAAMR,EAAS,KDeFS,CAAOZ,EAAOM,EAAYD,GAE5CJ,EAASM,GACTH,EAAUE,IAGqB,CAAEO,KAVtB,kBAAMT,EAAUD,EAAS,IAUGW,KAT5B,kBAAMV,EAAUD,EAAS,kmDENnBY,cACnB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,mGAAAC,CAAAC,KAAAJ,IACjBE,EAAAG,EAAAD,KAAAE,EAAAN,GAAAO,KAAAH,KAAMH,KACDO,OAAS,KAFGN,yPADmBnB,IAAM0B,kDAKnC,IAAAC,EAC0BN,KAAKH,MAA9BU,EADDD,EACCC,WAAeV,EADhBW,EAAAF,EAAA,gBAGP,OAAOG,EAAAC,EAAAC,cAACC,EAAA,OAAD,CACEC,KAAK,UAELN,WAAYA,GACzBE,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,KAAKN,WAAYA,EAAYV,MAAO,CAACiB,GAAK,UAAvD,SACAL,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,MAAMN,WAAYA,GAAYE,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,OAAON,WAAYA,EAAYQ,WAAW,MAAMlB,MAAO,CAACmB,UAAY,gBAAjF,mDAE3CP,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,MAAMN,WAAYA,GAAYE,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQC,KAAK,OAAON,WAAYA,EAAYQ,WAAW,MAAMlB,MAAO,CAACmB,UAAY,iBAAjF,isBA2B3CP,EAAAC,EAAAC,cAACM,EAAA,WAAD,CAAYC,cAAa,y4EAA44EC,WAAY,EAAGC,OAAQ,iqBAAkqBC,QAAS,CAACxB,MAAOG,KAAOA,KAAKH,MAAQA,EAAMtB,kBACtoG,WAAM,IAAA+C,EAAAC,EAC6ChD,EAAc,GAD3D,GACEM,EADFyC,EAAA,GACStC,EADTsC,EAAA,GACiBE,EADjBF,EAAA,GAAAG,EAAAH,EAAA,GAC6B5B,EAD7B+B,EAC6B/B,KAAMC,EADnC8B,EACmC9B,KAClCT,EAAQL,EAAMG,GAGpB,OACEyB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgB,SAAA,KACEjB,EAAAC,EAAAC,cAAA,qBAAazB,GACbuB,EAAAC,EAAAC,cAAA,WACG9B,EAAM8C,IAAI,SAACC,EAAGC,GAAJ,OACTpB,EAAAC,EAAAC,cAAA,QAAMmB,IAAKD,EAAGE,MAAO,CAAEC,WAAYH,IAAM7C,EAAS,IAAM,MACrD4C,MAIPnB,EAAAC,EAAAC,cAAA,sBAAc3B,GACdyB,EAAAC,EAAAC,cAAA,UAAQsB,QAbM,kBAAMT,EAAStC,EAAQ,KAarC,KACAuB,EAAAC,EAAAC,cAAA,UAAQsB,QAbM,kBAAMT,EAAStC,EAAQ,KAarC,KACAuB,EAAAC,EAAAC,cAAA,UAAQsB,QAASvC,GAAjB,QACAe,EAAAC,EAAAC,cAAA,UAAQsB,QAAStC,GAAjB","file":"static/js/docs-usage.03f45184.js","sourcesContent":["import React from 'react';\nimport insert from './insert';\n\nconst useSimpleUndo = <T>(\n  initialState: T\n): [\n  T[],\n  number,\n  (value: T) => void,\n  { undo: () => void; redo: () => void }\n] => {\n  const [state, setState] = React.useState([initialState]);\n  const [cursor, setCursor] = React.useState(0);\n\n  const undo = () => setCursor(cursor - 1);\n  const redo = () => setCursor(cursor + 1);\n  const setValue = (value: T) => {\n    const nextCursor = cursor + 1;\n    const nextState = insert(state, nextCursor, value);\n\n    setState(nextState);\n    setCursor(nextCursor);\n  };\n\n  return [state, cursor, setValue, { undo, redo }];\n};\n\nexport default useSimpleUndo;\n","export default <T>(arr: T[], cursor: number, value: T) => [\n  ...arr.slice(0, cursor),\n  value,\n  ...arr.slice(cursor + 1),\n];\n","\n  import React from 'react'\n  import { MDXTag } from '@mdx-js/tag'\n  import { Playground } from 'docz';\nimport useSimpleUndo from '../src';\n\nconst layoutProps = {\n  \n};\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.layout = null\n  }\n  render() {\n    const { components, ...props } = this.props\n\n    return <MDXTag\n             name=\"wrapper\"\n             \n             components={components}>\n<MDXTag name=\"h1\" components={components} props={{\"id\":\"usage\"}}>{`Usage`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-js\"}}>{`import useSimpleUndo from 'use-simple-undo';\n`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-jsx\"}}>{`const Example = () => {\n  const [state, cursor, setValue, { undo, redo }] = useSimpleUndo(0);\n\n  const value = state[cursor];\n\n  const increment = () => setValue(value + 1);\n  const decrement = () => setValue(value - 1);\n\n  return (\n    <>\n      <div>value: {value}</div>\n      <div>\n        {state.map((v, i) => (\n          <span key={i} style={{ fontWeight: i === cursor ? 900 : 100 }}>\n            {v}\n          </span>\n        ))}\n      </div>\n      <div>cursor: {cursor}</div>\n      <button onClick={increment}>+</button>\n      <button onClick={decrement}>-</button>\n      <button onClick={undo}>undo</button>\n      <button onClick={redo}>redo</button>\n    </>\n  );\n};\n`}</MDXTag></MDXTag>\n<Playground __codesandbox={`N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkqiUrGiJkjK8Eq1QyZnWTWWoXY2Hm_To5G67mScAIAlCKRSsDsIxeeHGNjsFU83iWM1g_m6mVsSPMtjgoRg62oqTxb3qiAAlGYjJIzBAiDNKAIpgAlGCuchTMBCIjsToSqXtADc_MFwrFioIABEAPIAWXYMsi8q6koIAFoTkQVWqhSKHJEhah9EbZfKcJJsK5BbBbagzOLzXr9TguhgMgAKdbMNhidYWRh4ADMYkc6pdNE46pF2XYuImPScwJJNQEiCkKfj5gs7EYMzEkYaUyiyRdedc6BYMWo8XYMyEd3GlFSMCmL3Y4cw_VQKXzMASnKkDYTdfTztdkmriekccUZhOvSI-hwaQIAFFYMeaAAhRINdCRzrCAjtbmoTnKhTKb2-mA4TQyB0ahaHoRAVBzKY8hgZwBXJGAAFUMBHY05XaT04AEch_TgjV2CDKU3RNBVzXaO08OAdhNB8eQiLQgABGAiBEAZUEBYUYDIgNUF0VFjlOAAvZwCESbF2G4dhgHWKIBGeVArnaAAGdhkxmLB2n3GsZk7FhZwUgAWNT2AANjUjT1jAECADEfWgRIFP4ZxDkRR1MHYAAFIR-CWZifjgbTEXMmtLJoWCBMudgAEZ9M0-RwR46g-IAQTmcT2EjSjyBsKB0HDdh5E5cSxHSmMZHYVFRJgbhgEPISROxeRt1rYAsugXLggAMg68ZEnmShmlanK8u4Eb5TAUIeJ7VB2nYAB-DY2vDSNCquQb2tQOKaykGRq3fMxYTwzAwDCKApmWoqSq2lKVxrCxgHO7hiqk27a14qYAG1USyJZegEOBhSWOAxwANXiRklkoiaTiWLoTnygBdNLoNgv8kJOSNFPfWtXsSqZWDB7oJK-2h3t-_6BHh1cLDezgeK6a8pgkh7iqBghQagRlI3xjnugAaiirHsaLVA-Mwch6ddJnCse8qQYJrmCfYC0Bapycxz6cxoxe7HGCaoXa1jWRucZK5gGNmB5G2uNVZ1nabaF4Bif_KIZkjLmlggaXiq1_Xfbrfz3HYbYYESaqIFoirYGqyiQoIAB1GAIBSQgrggcTRrJ4U5vYABORTlKuSL8_yxr7b9s3Nr9_WpAD1A9arzlOUrqurdkMu6x2zPy0krvLd3NvtaFxgPHCCJzGoewoFibYw7ppj9Ea3mpBHm5qHr6uV7HvZUEn6fqrFiWaEai1l9Htf2-Hs_x53qedmqqHKEah_T9XuuL83lkJ9vmfgFhx-xD_i_Me68DZblVoLCw8hm5SGurtMw34QCYXIJIVQ2AcAEC0BQEC-gGC4QdARaU7oSJKlVKgPB44RYZEIcRT0aAgYin9GYGmyM4KwDRiOCSjBLCNnWGgF4EB4jCSyFcSwZhORXHeusSw714aaQsKgUIRBAgCDkelc2IivbsFYJQLgqjIbISuMzLROj0DKjVicQxmjtFcHymYRGMtnrU1xuwT6BBvqywIEI2g9j8JahwMjNxtBIzvT4TEQRgSYDw0_OsGmpM-jk0BmOew8ThQ-IIf4oGXiYAY2idxJxIsoLITSkY1myS_rCkjF3JWAtSH5L4n_YpmjSkpIEJUlp7B-aRVyXUqYrN2aMmKeoqwmjHE4wKewF0WACBlPJmlKpnTaljL4pMzxES0p0KoZGJ2SwVkzIBlogmuTVysyyZGFZWTum1maeU1puyWmXPkKQ9YXQCAaxcdsnoLTElswJhDXIyEYbZBHPIeGpDHnxQOg6I6J0oKZNYYhZCpCEFIJQZQkU6DMHAT0GBEAkKpjQtCKdOs3DIyuAEN3aRsjPk3KuAopRGQlhDMsJoyRNYcDsrJQIHAcBb7ZMUj9e5qjzaqPZTgTl3LeVtJuR0gWmlQXwKUCAAK2xXBpAAv9VAQFdCgQMOBUZ_BUA-iZEgdg_AgTEiqN4DIFpfzwW8usfgrAMj5GoPwK4_BFI4E9Ype1NZ-DlHFhAGYU03WmpAElcq8KYRYB9PBY4MBySUESHmPIBQ1bmgtOakEVqBC-osPwKIaBQ38FQRoOAeaw2YHmBGHiEB4ChtGfmwQWpi0gEisZHAAAOHAkUK1NrNFKK0kRW3tq7T2_g6xNryGRdm3AuhIApHVdQLV2CcVSRALQX0WQ3VmrNLQC0A7LSzBmPwadUD5BAA`} __position={0} __code={'() => {\\n  const [state, cursor, setValue, { undo, redo }] = useSimpleUndo(0)\\n  const value = state[cursor]\\n  const increment = () => setValue(value + 1)\\n  const decrement = () => setValue(value - 1)\\n  return (\\n    <>\\n      <div>value: {value}</div>\\n      <div>\\n        {state.map((v, i) => (\\n          <span key={i} style={{ fontWeight: i === cursor ? 900 : 100 }}>\\n            {v}\\n          </span>\\n        ))}\\n      </div>\\n      <div>cursor: {cursor}</div>\\n      <button onClick={increment}>+</button>\\n      <button onClick={decrement}>-</button>\\n      <button onClick={undo}>undo</button>\\n      <button onClick={redo}>redo</button>\\n    </>\\n  )\\n}'} __scope={{props: this ? this.props : props,useSimpleUndo}}>\n  {() => {\n    const [state, cursor, setValue, { undo, redo }] = useSimpleUndo(0);\n    const value = state[cursor];\n    const increment = () => setValue(value + 1);\n    const decrement = () => setValue(value - 1);\n    return (\n      <>\n        <div>value: {value}</div>\n        <div>\n          {state.map((v, i) => (\n            <span key={i} style={{ fontWeight: i === cursor ? 900 : 100 }}>\n              {v}\n            </span>\n          ))}\n        </div>\n        <div>cursor: {cursor}</div>\n        <button onClick={increment}>+</button>\n        <button onClick={decrement}>-</button>\n        <button onClick={undo}>undo</button>\n        <button onClick={redo}>redo</button>\n      </>\n    );\n  }}\n</Playground>\n           </MDXTag>\n  }\n}\n  "],"sourceRoot":""}